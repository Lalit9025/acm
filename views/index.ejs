<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>URL Shrinker</title>
    <style>
        body {
            padding: 20px;
            background-color: #ffffff;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            margin-right: 30px;
        }
        .s-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
          }
        .s-form {
                background-color: #728ed5;
                border-radius: 5px;
                padding: 30px;
                display: flex;
                align-items: center;
                width: 1000px;      
        }
       /* .shrink-form input[type="url"] {
            width: 400px;
            height: 50px;
            margin-right: 10px;
        }*/
        .shrink-form button {
            width: 100px;
            height: 50px;
        }
       .search-form input[type="text"] {
            width: 400px;
            margin-right: 10px;
            border: none;
            padding: 5px;
        }
        .search-form form {
            display: flex;
            align-items: center;
          }
        .search-form button {
            border: none;
            padding: 5px 10px;
            background-color: #1e00ff;
            cursor: pointer;
        }
        form-control{
            display: block;
            width: 250%;
             padding: 0.375rem 0.75rem;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #212529;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
           /* -webkit-appearance: none;
           -moz-appearance: none;*/
            appearance: none;
            border-radius: 0.375rem;
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }
        .url-table {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        .url-table th {
            font-weight: bold;
        }
        .url-table td {
            word-break: break-all;
        }
        .h{
            font: 900 49px asap,arial;
            color: #0186da;
        }
          .error-message {
              color: red;
              margin-bottom: 10px;
            }
         .table-container {
                background-color: #f0f0f0;
                border: 1px solid #0c0b0b;
                border-radius: 5px;
                padding: 20px;
                margin: 20px 0;
                overflow-x: auto;
            }
            
    </style>
</head>
<body>
            <div class="container">
            <div class="header">
                <h1 class="h">Short URL</h1>
            </div>


        <div class="s-container">
                
            <div class="s-form">
                <h3 class="header">Paste the URL to search</h3>
               <form  action="/" method="GET">
                <div class="input-group">
                   <input type="text" name="q" placeholder="Search URLs" class="form-control">
                   <button class="btn btn-secondary" type="submit">Search</button>
                </div>
               </form>
            </div>
        </div>


     <div class="s-container">
        <div class="s-form">
            <h3 class="header">Paste the URL to be shortened</h3>
            <form action="/shortUrls" method="POST">
                <div class="input-group">
                <input required placeholder="Enter the URL here" type="url" name="fullUrl" class="form-control">
            
                <input  placeholder="Add a note(optional)" type="text" name="note"  class="form-control">
                <button class="btn btn-primary" type="submit">Shrink</button>
            </div>
            </form>
        </div>
    </div>
    <div class="error-message">
        <% if (errorMessage) { %>
            <p><%= errorMessage %></p>
        <% } %>
    </div>
    <div class="table-container">
        <table class="table url-table">
            <thead>
                <tr>
                    <th>Full URL</th>
                    <th>Short URL</th>
                    <th>Note</th>
                    <th>Clicks</th>
                </tr>
            </thead>
            <tbody>
                <% shortUrls.forEach(shortUrl => { %>
                    <tr>
                        <td><a href="<%= shortUrl.full %>" target="_blank"><%= shortUrl.full %></a></td>
                        <td><a href="/<%= shortUrl.short %>" target="_blank"><%= shortUrl.short %></a></td>
                        <td><%= shortUrl.note %></td>
                        <td><%= shortUrl.clicks %></td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
          
    </div>
</body>
</html>
